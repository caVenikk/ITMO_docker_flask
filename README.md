# Использование Docker в приложении Flask с БД

1. Создание приложения с использованием Flask и SQLAlchemy (в связке с PostgreSQL).

    Также был использован файл .env для хранения данных для подключения к БД. Его использует приложение (app.py) и будет использовать Docker.

2. Создание Dockerfile.

3. Создание docker-compose.yml.

    docker-compose использует .env для подключения к БД. Также был создан volume для хранения данных из БД после остановки (чтобы БД не удалялась при остановке и не создавалась при запуске). Также для запуска веб-приложения было добавлено условие для БД (service_healthy), и, соответственно, сам healthcheck в сервисе БД.

4. Локальная проверка

    `docker-compose up --build -d`

    Получаем страницу (после 5 обновлений):

    ![Test run](assets/test_run.png)

5. Создание .dockerignore

    Для того, чтобы не пушить в Docker Hub библиотеки и файл .env (был создан .env.example с пустыми значениями).

6. Создание requirements.txt

    `pip freeze > requirements.txt`

7. Пуш в Docker Hub

8. Создание репозитория git, пуш в GitHub.
